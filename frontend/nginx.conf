server {
    listen 80;
    root /usr/share/nginx/html;
    index index.html;

    # Handle /app base path (since Vite is built with base: "/app")
    # Strip /app prefix and serve from root
    location /app {
        rewrite ^/app(.*)$ $1 break;
        try_files $uri $uri/ /index.html;
    }

    # Handle root requests (shouldn't happen, but just in case)
    location = / {
        return 301 /app/;
    }

    # Default fallback
    location / {
        try_files $uri $uri/ /index.html;
    }
}
